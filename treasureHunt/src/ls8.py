#!/usr/bin/env python3

"""Main."""

import sys

from cpu import *

cpu = CPU()
program = [

0b10000010,
0b00000001,
0b01001101,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101001,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101110,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01100101,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b00100000,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01111001,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101111,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01110101,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01110010,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b00100000,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01100011,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101111,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101001,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101110,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b00100000,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101001,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101110,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b00100000,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01110010,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101111,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101111,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b01101101,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b00100000,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b00110100,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b00110101,
0b01001000,
0b00000001,
0b10000010,
0b00000001,
0b00110111,
0b01001000,
0b00000001,
0b00000001,
]
try:
    with open(str(program)) as f:

        for line in f:
            comment_split = line.split("#")
            num = comment_split[0].strip()
            if num == '':
                continue
            #convert binary to int
            value = int(num, 2)
            program.append(value)
            print(program,value)

except FileNotFoundError:
    print(f"{sys.argv[0]}: {sys.argv[1]} not found")
    sys.exit(2)



cpu.load(program)
cpu.run()